<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>redis getting started</title>
    <meta name="description" content="">
    <link rel="icon" href="/redis-getting-started/favicon.ico">
    
    <link rel="preload" href="/redis-getting-started/assets/css/0.styles.5328743e.css" as="style"><link rel="preload" href="/redis-getting-started/assets/js/app.a7599fb9.js" as="script"><link rel="preload" href="/redis-getting-started/assets/js/2.eabdce17.js" as="script"><link rel="prefetch" href="/redis-getting-started/assets/js/3.39ac241d.js"><link rel="prefetch" href="/redis-getting-started/assets/js/4.b70bf41f.js">
    <link rel="stylesheet" href="/redis-getting-started/assets/css/0.styles.5328743e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/redis-getting-started/" class="home-link router-link-exact-active router-link-active"></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/daggerok/redis-getting-started" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"> <a href="https://github.com/daggerok/redis-getting-started" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <!----> </div> <div class="page"> <div class="content"><h1 id="redis-getting-started"><a href="#redis-getting-started" aria-hidden="true" class="header-anchor">#</a> redis getting started</h1> <p>Redis playground...</p> <p>Travis CI build status: <a href="https://travis-ci.org/daggerok/redis-getting-started/" target="_blank" rel="noopener noreferrer"><img src="https://travis-ci.org/daggerok/redis-getting-started.svg?branch=master" alt="Build Status"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>GitHub <a href="https://github.com/daggerok/redis-getting-started/" target="_blank" rel="noopener noreferrer">daggerok/redis-getting-started<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> repository</p> <p>Read docs on <a href="https://daggerok.github.io/redis-getting-started/" target="_blank" rel="noopener noreferrer">GitHub Pages<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="run-database"><a href="#run-database" aria-hidden="true" class="header-anchor">#</a> run database</h2> <p><em>run single node instance</em></p> <p><img src="/redis-getting-started/assets/img/mode-single-instance.bc758a26.png" alt="Single instance mode"></p> <div class="language-bash extra-class"><pre class="language-bash"><code>docker run -d --rm --name redis redis:alpine
</code></pre></div><p><em>not shown: master-slaves approach</em></p> <p><img src="/redis-getting-started/assets/img/mode-master-slaves.e6d16aad.png" alt="Master-slave mode"></p> <p>I this case you going to read from your slaves until you not restarted your master</p> <p><em>also not shown: most reliable is run in sentinel mode</em></p> <p><img src="/redis-getting-started/assets/img/mode-sentinels.7260928f.png" alt="Sentinel mode"></p> <p><em>finally must have mode is clustered</em></p> <p><img src="/redis-getting-started/assets/img/mode-cluster.9f377b2e.png" alt="Clustered mode"></p> <p>create <code>redis.conf</code> file and start cluster</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># change dir to safe place</span>
<span class="token function">cd</span> /tmp/

<span class="token comment"># create redis config</span>
<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> EOF <span class="token operator">&gt;</span> ./redis.conf
port 6379
cluster-enabled <span class="token function">yes</span>
cluster-config-file nodes.conf
cluster-node-timeout 5000
appendonly <span class="token function">yes</span>
EOF

<span class="token comment"># create docker network</span>
docker network <span class="token function">rm</span> redis-net <span class="token punctuation">;</span> \
  docker network create redis-net

<span class="token comment"># run 6 redis nodes</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">seq</span> 1 6<span class="token variable">`</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span> \
  docker run -d \
    --net redis-net --name redis-<span class="token variable">$i</span> -p 6379 \
    -v <span class="token variable">$PWD</span>/redis.conf:/usr/local/etc/redis/redis.conf \
    redis:alpine redis-server /usr/local/etc/redis/redis.conf<span class="token punctuation">;</span> \
<span class="token keyword">done</span>

<span class="token comment"># find container ip</span>
<span class="token comment">#for i in `seq 1 6`; do \</span>
<span class="token comment">#  docker inspect -f '{{ (index .NetworkSettings.Networks &quot;redis-net&quot;).IPAddress }}' redis-$i ; \</span>
<span class="token comment">#done</span>
<span class="token comment"># 172.26.0.2, 172.26.0.3, 172.26.0.4, 172.26.0.5, 172.26.0.6, 172.26.0.7</span>

<span class="token comment"># build cluster node:port items list</span>
<span class="token function">export</span> nodes<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token keyword">for</span> i <span class="token keyword">in</span> `seq 1 6`<span class="token punctuation">;</span> <span class="token keyword">do</span> \
  <span class="token keyword">echo</span> -n <span class="token string">&quot;$(docker inspect -f '{{ (index .NetworkSettings.Networks &quot;</span>redis-net&quot;<span class="token variable">)</span></span>.IPAddress <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token string">' redis-<span class="token variable">$i</span>):6379 &quot; ; done)

# initialize redis cluster
echo '</span>yes' <span class="token operator">|</span> docker <span class="token function">exec</span> -i redis-1 ash -c <span class="token string">&quot;\
  redis-cli --cluster create <span class="token variable">$nodes</span> --cluster-replicas 1&quot;</span>

<span class="token comment"># connect with additional flag: '-c'</span>
docker <span class="token function">exec</span> -it redis-4 redis-cli -c

<span class="token comment"># we can created keys and we will be redirected to proper node if needed</span>
127.0.0.1:6379<span class="token operator">&gt;</span> <span class="token keyword">set</span> key-2 trololo
-<span class="token operator">&gt;</span> Redirected to slot <span class="token punctuation">[</span>12422<span class="token punctuation">]</span> located at 192.168.240.4:6379
OK
192.168.240.4:6379<span class="token operator">&gt;</span> <span class="token keyword">set</span> key-1 ololo
-<span class="token operator">&gt;</span> Redirected to slot <span class="token punctuation">[</span>229<span class="token punctuation">]</span> located at 192.168.240.2:6379
OK

<span class="token comment"># we can get key-1 or key-2 separately</span>
192.168.240.2:6379<span class="token operator">&gt;</span> get key-1
<span class="token string">&quot;ololo&quot;</span>
192.168.240.2:6379<span class="token operator">&gt;</span> get key-2
-<span class="token operator">&gt;</span> Redirected to slot <span class="token punctuation">[</span>12422<span class="token punctuation">]</span> located at 192.168.240.4:6379
<span class="token string">&quot;troololo&quot;</span>

<span class="token comment"># but we cannot use mget for sharded data</span>
192.168.240.4:6379<span class="token operator">&gt;</span> mget key-1 key-2
<span class="token punctuation">(</span>error<span class="token punctuation">)</span> CROSSSLOT Keys <span class="token keyword">in</span> request don't <span class="token function">hash</span> to the same slot
<span class="token comment"># so redis dose not serve cross slot data</span>
<span class="token comment"># so spring data can help here us with that!</span>
<span class="token comment"># spring-data can connect to all redis nodes to collect all info... </span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>Dont not create <code>nodes.conf</code> file.
We don’t need to do anything except adding this line.</p></div> <h2 id="prepare-redis-cli-command-alias-fot-using-docker"><a href="#prepare-redis-cli-command-alias-fot-using-docker" aria-hidden="true" class="header-anchor">#</a> prepare redis-cli command alias fot using docker</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">function</span> redis-cli <span class="token punctuation">{</span> <span class="token function">bash</span> -c <span class="token string">&quot;docker exec -it redis ash -c 'redis-cli <span class="token variable">$1</span>'&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre></div><h2 id="basics"><a href="#basics" aria-hidden="true" class="header-anchor">#</a> basics</h2> <h3 id="show-keys-keys"><a href="#show-keys-keys" aria-hidden="true" class="header-anchor">#</a> show keys <code>keys</code></h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'keys *'</span>
<span class="token comment"># (empty list or set)</span>
</code></pre></div><h3 id="set-value-set"><a href="#set-value-set" aria-hidden="true" class="header-anchor">#</a> set value <code>set</code></h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli redis-cli <span class="token string">'set message hi'</span>
<span class="token comment"># OK</span>
</code></pre></div><h3 id="get-value-get"><a href="#get-value-get" aria-hidden="true" class="header-anchor">#</a> get value <code>get</code></h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'get message'</span>
<span class="token comment"># &quot;hi&quot;</span>
redis-cli <span class="token string">'keys *'</span>
<span class="token comment"># 1) &quot;message&quot;</span>
</code></pre></div><h3 id="delete-data-del"><a href="#delete-data-del" aria-hidden="true" class="header-anchor">#</a> delete data <code>del</code></h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'del message'</span>
<span class="token comment"># (integer) 1</span>
</code></pre></div><h3 id="delete-all-data-flushall"><a href="#delete-all-data-flushall" aria-hidden="true" class="header-anchor">#</a> delete all data <code>flushall</code></h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli redis-cli <span class="token string">'set k1 v1'</span>
redis-cli redis-cli <span class="token string">'set k2 v2'</span>
 
redis-cli <span class="token string">'keys *'</span>
<span class="token comment"># 1) &quot;k2&quot;</span>
<span class="token comment"># 2) &quot;k1&quot;</span>
redis-cli <span class="token string">'flushall'</span>
<span class="token comment"># OK</span>
redis-cli <span class="token string">'keys \*'</span> <span class="token comment"># escaping star... in real terminal, command should be: redis-cli keys *</span>
<span class="token comment"># (empty list or set)</span>
</code></pre></div><h3 id="set-value-with-expire-of-the-key-setex"><a href="#set-value-with-expire-of-the-key-setex" aria-hidden="true" class="header-anchor">#</a> set value with expire of the key <code>setex</code></h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'setex temporal 60 this-value-will-exire-after-60-secons'</span>
<span class="token comment"># OK</span>
redis-cli <span class="token string">'ttl temporal'</span>
<span class="token comment"># (integer) 58</span>
<span class="token function">sleep</span> 6s <span class="token punctuation">;</span> redis-cli <span class="token string">'get temporal'</span>
<span class="token comment"># &quot;this-value-will-exire-after-60-secons&quot;</span>
<span class="token function">sleep</span> 60s <span class="token punctuation">;</span> redis-cli <span class="token string">'get temporal'</span>
<span class="token comment"># (nil)</span>
redis-cli <span class="token string">'ttl temporal'</span>
<span class="token comment"># (integer) -2</span>
</code></pre></div><p><em>NOTE: if you wanna set expire in millis, use <code>psetex</code> command instead:</em></p> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'psetex key milliseconds value'</span>
</code></pre></div><h3 id="set-value-if-key-is-not-available-with-setnx"><a href="#set-value-if-key-is-not-available-with-setnx" aria-hidden="true" class="header-anchor">#</a> set value if key is not available with <code>setnx</code></h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'get new-key'</span>
<span class="token comment"># (nil)</span>
redis-cli <span class="token string">'setnx new-key a-value'</span>
<span class="token comment"># (integer) 1</span>
redis-cli <span class="token string">'get new-key'</span>
<span class="token comment"># &quot;a-value&quot;</span>
redis-cli <span class="token string">'setnx new-key this-value-wont-be-present'</span>
<span class="token comment"># (integer) 0</span>
redis-cli <span class="token string">'get new-key'</span>
<span class="token comment"># &quot;a-value&quot;</span>
</code></pre></div><h3 id="get-value-size-with-strlen-command"><a href="#get-value-size-with-strlen-command" aria-hidden="true" class="header-anchor">#</a> get value size with <code>strlen</code> command</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'set ololo trololo'</span>
<span class="token comment"># OK</span>
redis-cli <span class="token string">'strlen ololo'</span>
<span class="token comment"># (integer) 7</span>
</code></pre></div><h3 id="setting-multiple-key-values"><a href="#setting-multiple-key-values" aria-hidden="true" class="header-anchor">#</a> setting multiple key-values</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'flushall'</span>
<span class="token comment"># OK</span>
redis-cli <span class="token string">'mset k1 v1 k2 v2 k3 v3'</span>
<span class="token comment"># OK</span>
redis-cli <span class="token string">'keys \*'</span>
<span class="token comment"># 1) &quot;k3&quot;</span>
<span class="token comment"># 2) &quot;k2&quot;</span>
<span class="token comment"># 3) &quot;k1&quot;</span>
</code></pre></div><p><em>NOTE:  command <code>ttl</code> stands for <code>time to live</code></em></p> <h3 id="increment-with-incr-and-decrement-with-decr-commands"><a href="#increment-with-incr-and-decrement-with-decr-commands" aria-hidden="true" class="header-anchor">#</a> increment with <code>incr</code> and decrement with <code>decr</code>  commands</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'set salary 4444'</span>
<span class="token comment"># OK</span>
redis-cli <span class="token string">'decr salary'</span>
<span class="token comment"># (integer) 4443</span>
redis-cli <span class="token string">'incr salary'</span>
<span class="token comment"># (integer) 4444</span>
redis-cli <span class="token string">'incr salary'</span>
<span class="token comment"># (integer) 4445</span>
</code></pre></div><h3 id="customize-previous-flow-with-incrby-decrby"><a href="#customize-previous-flow-with-incrby-decrby" aria-hidden="true" class="header-anchor">#</a> customize previous flow with <code>incrby</code> / <code>decrby</code></h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'set salary 1000'</span>
<span class="token comment"># OK</span>
redis-cli <span class="token string">'decrby salary 5'</span>
<span class="token comment"># (integer) 995</span>
redis-cli <span class="token string">'incrby salary 500'</span>
<span class="token comment"># (integer) 1495</span>
redis-cli <span class="token string">'incrby salary 100500'</span>
<span class="token comment"># (integer) 101995</span>
</code></pre></div><h3 id="append"><a href="#append" aria-hidden="true" class="header-anchor">#</a> append</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'set message hello'</span>
<span class="token comment"># OK</span>
redis-cli <span class="token string">'append message -world!'</span>
<span class="token comment"># (integer) 12</span>
redis-cli <span class="token string">'get message'</span>
<span class="token comment"># &quot;hello-world!&quot;</span>
</code></pre></div><p><img src="/redis-getting-started/assets/img/feature-strings.7792750e.png" alt="Strings"></p> <h2 id="hashes"><a href="#hashes" aria-hidden="true" class="header-anchor">#</a> hashes</h2> <p>Why? Limitations for strings (key-value pairs) are about 512 Mb.
But in case of hashes (field-value pairs) limits up to 4 billions field-value pairs</p> <h3 id="set-key-field-value-pair-with-hmset"><a href="#set-key-field-value-pair-with-hmset" aria-hidden="true" class="header-anchor">#</a> set key field-value pair with <code>hmset</code></h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'hmset person username maksimko password very-secret'</span>
<span class="token comment"># OK</span>
redis-cli <span class="token string">'hget person password'</span>
<span class="token comment"># &quot;very-secret&quot;</span>
redis-cli <span class="token string">'hmget person password'</span>
<span class="token comment"># 1) &quot;very-secret&quot;</span>
redis-cli <span class="token string">'hgetall person'</span>
<span class="token comment"># 1) &quot;username&quot;</span>
<span class="token comment"># 2) &quot;maksimko&quot;</span>
<span class="token comment"># 3) &quot;password&quot;</span>
<span class="token comment"># 4) &quot;very-secret&quot;</span>
</code></pre></div><h3 id="hexists"><a href="#hexists" aria-hidden="true" class="header-anchor">#</a> <code>hexists</code></h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'hexists person age'</span>
<span class="token comment"># (integer) 0</span>
redis-cli <span class="token string">'hexists person username'</span>
<span class="token comment"># (integer) 1</span>
</code></pre></div><p><em>age dose not exists in person object</em></p> <h3 id="hdel"><a href="#hdel" aria-hidden="true" class="header-anchor">#</a> <code>hdel</code></h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'hdel person password'</span>
<span class="token comment"># (integer) 1</span>
redis-cli <span class="token string">'hgetall person'</span>
<span class="token comment"># 1) &quot;username&quot;</span>
<span class="token comment"># 2) &quot;maksimko&quot;</span>
</code></pre></div><h3 id="hsetnx"><a href="#hsetnx" aria-hidden="true" class="header-anchor">#</a> <code>hsetnx</code></h3> <p>set field value if it's does not exists</p> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'hsetnx person age 18'</span> <span class="token comment"># will set new field</span>
<span class="token comment"># (integer) 1</span>
redis-cli <span class="token string">'hsetnx person age 19'</span> <span class="token comment"># will ignore because age field already exists</span>
<span class="token comment"># (integer) 0</span>
</code></pre></div><h3 id="hkeys"><a href="#hkeys" aria-hidden="true" class="header-anchor">#</a> <code>hkeys</code></h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'hkeys person'</span>
<span class="token comment"># 1) &quot;username&quot;</span>
<span class="token comment"># 2) &quot;age&quot;</span>
</code></pre></div><p><em>NOTE: returns only key fields of object</em></p> <h3 id="hincrby-similar-to-strings"><a href="#hincrby-similar-to-strings" aria-hidden="true" class="header-anchor">#</a> <code>hincrby</code> similar to strings</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'hincrby person age 1'</span>
<span class="token comment"># (integer) 19</span>
redis-cli <span class="token string">'hincrby person age 5'</span>
<span class="token comment"># (integer) 24</span>
</code></pre></div><h3 id="others"><a href="#others" aria-hidden="true" class="header-anchor">#</a> others</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'hstrlen person username'</span>
<span class="token comment"># (integer) 8</span>
redis-cli  <span class="token string">'hvals person'</span>
<span class="token comment"># 1) &quot;maksimko&quot;</span>
<span class="token comment"># 2) &quot;24&quot;</span>
redis-cli <span class="token string">'hlen person'</span> <span class="token comment"># number of fields in object hash</span>
<span class="token comment"># (integer) 2</span>
redis-cli <span class="token string">'hmget person username age'</span>
<span class="token comment"># 1) &quot;maksimko&quot;</span>
<span class="token comment"># 2) &quot;24&quot;</span>
</code></pre></div><p><img src="/redis-getting-started/assets/img/feature-hashes.8290dd19.png" alt="Hashes"></p> <h2 id="list"><a href="#list" aria-hidden="true" class="header-anchor">#</a> list</h2> <p>strings sorted in a some order</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">head</span> <span class="token operator">&lt;</span>--<span class="token operator">&gt;</span> value1 <span class="token operator">&lt;</span>--<span class="token operator">&gt;</span> value2 <span class="token operator">&lt;</span>--<span class="token operator">&gt;</span> <span class="token punctuation">..</span>. <span class="token operator">&lt;</span>--<span class="token operator">&gt;</span> valueN <span class="token operator">&lt;</span>--<span class="token operator">&gt;</span> <span class="token function">tail</span>
</code></pre></div><h3 id="debug-redis-cli"><a href="#debug-redis-cli" aria-hidden="true" class="header-anchor">#</a> debug redis-cli</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>redis-cli <span class="token string">'monitor'</span>
</code></pre></div><h3 id="and-do-playground-in-a-parallel-terminal"><a href="#and-do-playground-in-a-parallel-terminal" aria-hidden="true" class="header-anchor">#</a> and do playground in a parallel terminal...</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># create: my-list = List(3 2 1 0)</span>
redis-cli <span class="token string">'lpush my-list 0 1 2 3'</span>

<span class="token comment"># show first 10 elements of my-list moving from left to right</span>
redis-cli <span class="token string">'lrange my-list 0 10'</span>

<span class="token comment"># add 4 and 5 from left: List(5 4 3 2 1)</span>
redis-cli <span class="token string">'lpush my-list 4 5'</span>

<span class="token comment"># take out 1st left element (&quot;5&quot;) from list: List(4 3 2 1)</span>
redis-cli <span class="token string">'lpop my-list'</span>

<span class="token comment"># update to palindrome: List(4 3 2 1 0 1 2 3 4)</span>
redis-cli <span class="token string">'rpush my-list 0 1 2 3 4'</span>

<span class="token comment"># show list items from 0th index till 10th index</span>
redis-cli <span class="token string">'lrange my-list 0 10'</span>

<span class="token comment"># show el of index 3 (4th element moving from left to right): &quot;1&quot;</span>
redis-cli <span class="token string">'lindex my-list 3'</span>

<span class="token comment"># set el in a middle to &quot;X&quot;: List(4 3 2 1 X 1 2 3 4) </span>
redis-cli <span class="token string">'lset my-list 4 X'</span>

<span class="token comment"># show whole list (from begin: 0, to last: -1)</span>
redis-cli <span class="token string">'lrange my-list 0 -1'</span>

<span class="token comment"># this will be not push because list does not exists </span>
redis-cli <span class="token string">'lpushx skip this one - it does not exists'</span>

<span class="token comment"># but this will push both elements: List(6 5 4 3 2 1 X 1 2 3 4 5 6)</span>
redis-cli <span class="token string">'lpushx my-list 5 6'</span>
redis-cli <span class="token string">'rpushx my-list 5 6'</span>

<span class="token comment"># insert XX to make XXX in a middle</span>
redis-cli <span class="token string">'linsert my-list after X X'</span> <span class="token comment">#  List(6 5 4 3 2 1 X X 1 2 3 4 5 6)</span>
redis-cli <span class="token string">'linsert my-list before X X'</span> <span class="token comment"># List(6 5 4 3 2 1 X X X 1 2 3 4 5 6)</span>
</code></pre></div><p><img src="/redis-getting-started/assets/img/feature-lists.94ef7c6f.png" alt="Lists"></p> <h2 id="sets"><a href="#sets" aria-hidden="true" class="header-anchor">#</a> sets</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># create: my-set = Set(one two three)</span>
redis-cli <span class="token string">'sadd my-set one two three'</span>

<span class="token comment"># view</span>
redis-cli <span class="token string">'smembers my-set'</span>
<span class="token comment"># 1) &quot;two&quot;</span>
<span class="token comment"># 2) &quot;one&quot;</span>
<span class="token comment"># 3) &quot;three&quot;</span>

redis-cli <span class="token string">'sadd my-other-set two three four'</span>
redis-cli <span class="token string">'sdiff my-set my-other-set'</span>
<span class="token comment"># 1) &quot;one&quot;</span>
redis-cli <span class="token string">'sdiff my-other-set my-set'</span>
<span class="token comment"># 1) &quot;four&quot;</span>

redis-cli <span class="token string">'sunion my-other-set my-set'</span>
<span class="token comment"># 1) &quot;two&quot;</span>
<span class="token comment"># 2) &quot;one&quot;</span>
<span class="token comment"># 3) &quot;three&quot;</span>
<span class="token comment"># 4) &quot;four&quot;</span>

redis-cli <span class="token string">'sunionstore result-set my-other-set my-set'</span>
redis-cli <span class="token string">'smembers result-set'</span>
<span class="token comment"># 1) &quot;two&quot;</span>
<span class="token comment"># 2) &quot;one&quot;</span>
<span class="token comment"># 3) &quot;three&quot;</span>
<span class="token comment"># 4) &quot;four&quot;</span>

redis-cli <span class="token string">'srem result-set four'</span>
redis-cli <span class="token string">'smembers result-set'</span>
<span class="token comment"># 1) &quot;two&quot;</span>
<span class="token comment"># 2) &quot;one&quot;</span>
<span class="token comment"># 3) &quot;three&quot;</span>

<span class="token comment"># remove last value from result-set</span>
redis-cli <span class="token string">'spop result-set'</span>
<span class="token comment"># 3) &quot;three&quot;</span>

redis-cli <span class="token string">'sadd result-set ololo trololo hohoho'</span>
<span class="token comment"># remove random 2 values from result-set</span>
redis-cli <span class="token string">'spop result-set 2'</span>
<span class="token comment"># 1) &quot;ololo&quot;</span>
<span class="token comment"># 2) &quot;two&quot;</span>
redis-cli <span class="token string">'smembers result-set'</span>
<span class="token comment"># 1) &quot;one&quot;</span>
<span class="token comment"># 2) &quot;hohoho&quot;</span>
<span class="token comment"># 3) &quot;trololo&quot;</span>
</code></pre></div><p>also see: <code>sinter</code> - intersection and <code>smove</code> - move value from some set to another...</p> <p><img src="/redis-getting-started/assets/img/feature-sets.a54908f9.png" alt="Sets"></p> <h2 id="transactions"><a href="#transactions" aria-hidden="true" class="header-anchor">#</a> transactions</h2> <p><img src="/redis-getting-started/assets/img/feature-multi.9d2e0aba.png" alt="Multi"></p> <p>okay, enough...</p> <h2 id="cleanup"><a href="#cleanup" aria-hidden="true" class="header-anchor">#</a> cleanup</h2> <div class="language-bash extra-class"><pre class="language-bash"><code>docker <span class="token function">rm</span> -f -v redis
</code></pre></div><h2 id="build-vuepress-documentation"><a href="#build-vuepress-documentation" aria-hidden="true" class="header-anchor">#</a> build VuePress documentation</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i <span class="token punctuation">;</span> <span class="token function">npm</span> run build
</code></pre></div><h2 id="resources"><a href="#resources" aria-hidden="true" class="header-anchor">#</a> resources</h2> <ul><li><a href="https://www.youtube.com/watch?v=VvK-uLWDHFo" target="_blank" rel="noopener noreferrer">YouTube: Next Level Redis with Spring<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://medium.com/commencis/creating-redis-cluster-using-docker-67f65545796d" target="_blank" rel="noopener noreferrer">Redis cluster<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2/26/2019, 1:58:58 AM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/redis-getting-started/assets/js/app.a7599fb9.js" defer></script><script src="/redis-getting-started/assets/js/2.eabdce17.js" defer></script>
  </body>
</html>
